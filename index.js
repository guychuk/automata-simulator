(()=>{"use strict";var __webpack_modules__={570:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.AutomatonIterator = void 0;\nconst automaton_1 = __webpack_require__(719);\nclass AutomatonIterator {\n    constructor(word, automaton, initialState) {\n        if (word.some(char => !automaton.alphabet.has(char))) {\n            throw new Error("invalid characters");\n        }\n        this.automaton = automaton;\n        if (initialState === undefined) {\n            this.currentConfigurations = new Set([(0, automaton_1.makeConfiguration)(automaton.initialState, word)]);\n        }\n        else if (!automaton.states.has(initialState)) {\n            throw new Error("initial state is not in the states set");\n        }\n        else {\n            this.currentConfigurations = new Set([(0, automaton_1.makeConfiguration)(initialState, word)]);\n        }\n        this.word = word;\n        this.done = false;\n        this.visitedConfigurations = new Set();\n    }\n    [Symbol.iterator]() {\n        return this;\n    }\n    next() {\n        var _a, _b, _c, _d;\n        if (this.done || this.currentConfigurations.size === 0) {\n            this.done = true;\n            return { value: this.currentConfigurations, done: this.done };\n        }\n        const nextConfigurations = new Set();\n        const acceptingConfigurations = new Set();\n        for (let configuration of this.currentConfigurations) {\n            if (configuration.word.length === 0 && this.automaton.acceptingStates.has(configuration.state)) {\n                acceptingConfigurations.add(configuration);\n                continue; // we\'ll be done after the loop\n            }\n            // epsilon transitions\n            (_b = (_a = this.automaton.transitions.get(configuration.state)) === null || _a === void 0 ? void 0 : _a.get(\'\')) === null || _b === void 0 ? void 0 : _b.forEach(dest => {\n                if (Array.from(this.visitedConfigurations).\n                    every(conf => conf.state !== dest || conf.word !== configuration.word)) {\n                    // add iff not already visited!\n                    nextConfigurations.add((0, automaton_1.makeConfiguration)(dest, configuration.word));\n                    this.visitedConfigurations.add((0, automaton_1.makeConfiguration)(dest, configuration.word));\n                }\n            });\n            if (configuration.word.length > 0) {\n                // non-epsilon transitions\n                (_d = (_c = this.automaton.transitions.get(configuration.state)) === null || _c === void 0 ? void 0 : _c.get(configuration.word[0])) === null || _d === void 0 ? void 0 : _d.forEach(dest => {\n                    if (Array.from(this.visitedConfigurations).\n                        every(conf => conf.state !== dest || conf.word !== configuration.word.slice(1))) {\n                        nextConfigurations.add((0, automaton_1.makeConfiguration)(dest, configuration.word.slice(1)));\n                        this.visitedConfigurations.add((0, automaton_1.makeConfiguration)(dest, configuration.word.slice(1)));\n                    }\n                });\n            }\n        }\n        this.done = acceptingConfigurations.size > 0;\n        if (!this.done) {\n            this.currentConfigurations = nextConfigurations;\n        }\n        return { value: this.currentConfigurations, done: this.done };\n    }\n    return(value) {\n        this.clear();\n        return { value: value, done: true };\n    }\n    throw(e) {\n        this.clear();\n        throw new Error(e);\n    }\n    getWord() { return this.word.slice(); }\n    ;\n    getConfigurations() { return new Set(this.currentConfigurations); }\n    ;\n    getStates() {\n        const states = new Set();\n        this.currentConfigurations.forEach(configuration => states.add(configuration.state));\n        return states;\n    }\n    ;\n    clear() {\n        this.word = [];\n        this.done = true;\n        this.currentConfigurations.clear();\n    }\n}\nexports.AutomatonIterator = AutomatonIterator;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsQ0FBQztJQUN2QyxDQUFDO0NBQ0o7QUE5R0QsOENBOEdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXV0b21hdGEvLi9zcmMvYXV0b21hdG9uL2F1dG9tYXRvbi1pdGVyYXRvci50cz84YmU2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbmZpZ3VyYXRpb24sIE5GQSwgbWFrZUNvbmZpZ3VyYXRpb24gfSBmcm9tIFwiLi9hdXRvbWF0b25cIjtcclxuXHJcblxyXG5leHBvcnQgY2xhc3MgQXV0b21hdG9uSXRlcmF0b3IgaW1wbGVtZW50cyBJdGVyYWJsZUl0ZXJhdG9yPFNldDxDb25maWd1cmF0aW9uPj4ge1xyXG4gICAgcHJpdmF0ZSBhdXRvbWF0b246IE5GQTtcclxuICAgIHByaXZhdGUgY3VycmVudENvbmZpZ3VyYXRpb25zOiBTZXQ8Q29uZmlndXJhdGlvbj47XHJcbiAgICBwcml2YXRlIHZpc2l0ZWRDb25maWd1cmF0aW9uczogU2V0PENvbmZpZ3VyYXRpb24+O1xyXG4gICAgcHJpdmF0ZSB3b3JkOiBzdHJpbmdbXTtcclxuICAgIHByaXZhdGUgZG9uZTogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih3b3JkOiBzdHJpbmdbXSwgYXV0b21hdG9uOiBORkEsIGluaXRpYWxTdGF0ZT86IHN0cmluZykge1xyXG4gICAgICAgIGlmICh3b3JkLnNvbWUoY2hhciA9PiAhYXV0b21hdG9uLmFscGhhYmV0LmhhcyhjaGFyKSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBjaGFyYWN0ZXJzXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5hdXRvbWF0b24gPSBhdXRvbWF0b247XHJcblxyXG4gICAgICAgIGlmIChpbml0aWFsU3RhdGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9ucyA9IG5ldyBTZXQoW21ha2VDb25maWd1cmF0aW9uKGF1dG9tYXRvbi5pbml0aWFsU3RhdGUsIHdvcmQpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFhdXRvbWF0b24uc3RhdGVzLmhhcyhpbml0aWFsU3RhdGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImluaXRpYWwgc3RhdGUgaXMgbm90IGluIHRoZSBzdGF0ZXMgc2V0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbnMgPSBuZXcgU2V0KFttYWtlQ29uZmlndXJhdGlvbihpbml0aWFsU3RhdGUsIHdvcmQpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLndvcmQgPSB3b3JkO1xyXG4gICAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmlzaXRlZENvbmZpZ3VyYXRpb25zID0gbmV3IFNldDxDb25maWd1cmF0aW9uPigpO1xyXG4gICAgfVxyXG5cclxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCk6IEl0ZXJhYmxlSXRlcmF0b3I8U2V0PENvbmZpZ3VyYXRpb24+PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dCgpOiBJdGVyYXRvclJlc3VsdDxTZXQ8Q29uZmlndXJhdGlvbj4sIGFueT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRvbmUgfHwgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbnMuc2l6ZSA9PT0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuZG9uZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9ucywgZG9uZTogdGhpcy5kb25lIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBuZXh0Q29uZmlndXJhdGlvbnMgPSBuZXcgU2V0PENvbmZpZ3VyYXRpb24+KCk7XHJcbiAgICAgICAgY29uc3QgYWNjZXB0aW5nQ29uZmlndXJhdGlvbnMgPSBuZXcgU2V0PENvbmZpZ3VyYXRpb24+KCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGNvbmZpZ3VyYXRpb24gb2YgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbnMpe1xyXG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi53b3JkLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmF1dG9tYXRvbi5hY2NlcHRpbmdTdGF0ZXMuaGFzKGNvbmZpZ3VyYXRpb24uc3RhdGUpKXtcclxuICAgICAgICAgICAgICAgIGFjY2VwdGluZ0NvbmZpZ3VyYXRpb25zLmFkZChjb25maWd1cmF0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAgIC8vIHdlJ2xsIGJlIGRvbmUgYWZ0ZXIgdGhlIGxvb3BcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZXBzaWxvbiB0cmFuc2l0aW9uc1xyXG4gICAgICAgICAgICB0aGlzLmF1dG9tYXRvbi50cmFuc2l0aW9ucy5nZXQoY29uZmlndXJhdGlvbi5zdGF0ZSk/LmdldCgnJyk/LlxyXG4gICAgICAgICAgICAgICAgZm9yRWFjaChkZXN0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuZnJvbSh0aGlzLnZpc2l0ZWRDb25maWd1cmF0aW9ucykuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVyeShjb25mID0+IGNvbmYuc3RhdGUgIT09IGRlc3QgfHwgY29uZi53b3JkICE9PSBjb25maWd1cmF0aW9uLndvcmQpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIGlmZiBub3QgYWxyZWFkeSB2aXNpdGVkIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q29uZmlndXJhdGlvbnMuYWRkKG1ha2VDb25maWd1cmF0aW9uKGRlc3QsIGNvbmZpZ3VyYXRpb24ud29yZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0ZWRDb25maWd1cmF0aW9ucy5hZGQobWFrZUNvbmZpZ3VyYXRpb24oZGVzdCwgY29uZmlndXJhdGlvbi53b3JkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoY29uZmlndXJhdGlvbi53b3JkLmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICAgICAgLy8gbm9uLWVwc2lsb24gdHJhbnNpdGlvbnNcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0b21hdG9uLnRyYW5zaXRpb25zLmdldChjb25maWd1cmF0aW9uLnN0YXRlKT8uZ2V0KGNvbmZpZ3VyYXRpb24ud29yZFswXSk/LlxyXG4gICAgICAgICAgICAgICAgICAgIGZvckVhY2goZGVzdCA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5mcm9tKHRoaXMudmlzaXRlZENvbmZpZ3VyYXRpb25zKS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVyeShjb25mID0+IGNvbmYuc3RhdGUgIT09IGRlc3QgfHwgY29uZi53b3JkICE9PSBjb25maWd1cmF0aW9uLndvcmQuc2xpY2UoMSkpKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb25maWd1cmF0aW9ucy5hZGQobWFrZUNvbmZpZ3VyYXRpb24oZGVzdCwgY29uZmlndXJhdGlvbi53b3JkLnNsaWNlKDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2l0ZWRDb25maWd1cmF0aW9ucy5hZGQobWFrZUNvbmZpZ3VyYXRpb24oZGVzdCwgY29uZmlndXJhdGlvbi53b3JkLnNsaWNlKDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kb25lID0gYWNjZXB0aW5nQ29uZmlndXJhdGlvbnMuc2l6ZSA+IDA7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5kb25lKXtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbnMgPSBuZXh0Q29uZmlndXJhdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4geyB2YWx1ZTogdGhpcy5jdXJyZW50Q29uZmlndXJhdGlvbnMsIGRvbmU6IHRoaXMuZG9uZSB9O1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybj8odmFsdWU/OiBhbnkpOiBJdGVyYXRvclJlc3VsdDxTZXQ8Q29uZmlndXJhdGlvbj4sIGFueT4ge1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcblxyXG4gICAgdGhyb3c/KGU/OiBhbnkpOiBJdGVyYXRvclJlc3VsdDxTZXQ8Q29uZmlndXJhdGlvbj4sIGFueT4ge1xyXG4gICAgICAgIHRoaXMuY2xlYXIoKTtcclxuXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFdvcmQoKSA6IHN0cmluZ1tdIHsgcmV0dXJuIHRoaXMud29yZC5zbGljZSgpOyB9O1xyXG5cclxuICAgIGdldENvbmZpZ3VyYXRpb25zKCkgOiBTZXQ8Q29uZmlndXJhdGlvbj4geyByZXR1cm4gbmV3IFNldCh0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9ucyk7IH07XHJcblxyXG4gICAgZ2V0U3RhdGVzKCkgOiBTZXQ8c3RyaW5nPiB7IFxyXG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRDb25maWd1cmF0aW9ucy5mb3JFYWNoKGNvbmZpZ3VyYXRpb24gPT4gc3RhdGVzLmFkZChjb25maWd1cmF0aW9uLnN0YXRlKSk7XHJcblxyXG4gICAgICAgIHJldHVybiBzdGF0ZXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHByaXZhdGUgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLndvcmQgPSBbXTtcclxuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuY3VycmVudENvbmZpZ3VyYXRpb25zLmNsZWFyKCk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///570\n')},719:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.DFA = exports.NFA = exports.makeConfiguration = void 0;\nconst util_1 = __webpack_require__(229);\nconst automaton_iterator_1 = __webpack_require__(570);\nconst makeConfiguration = (state, word) => ({ state: state, word: word });\nexports.makeConfiguration = makeConfiguration;\nclass NFA {\n    constructor(alphabet, states, acceptigStates, initialState, transitions) {\n        this.alphabet = alphabet;\n        this.states = states;\n        this.acceptingStates = acceptigStates;\n        this.initialState = initialState;\n        this.transitions = transitions;\n        if (this.alphabet.size === 0) {\n            throw new Error("the alphabet must not be empty");\n        }\n        if (this.isDeterministic() && alphabet.has(\'\')) {\n            throw new Error("epsilon transitions are not allowed in a DFA");\n        }\n        if (this.states.size === 0) {\n            throw new Error("the set of states must not be empty");\n        }\n        if (!(0, util_1.isSubset)(acceptigStates, states)) {\n            throw new Error("accepting states set is not a subset of the states set");\n        }\n        if (!states.has(initialState)) {\n            throw new Error("initial state set is not in the states set");\n        }\n        if (!this.transitionsAreValid()) {\n            throw new Error("transition function is not valid");\n        }\n    }\n    static create(alphabet, states, acceptigStates, initialState, transitions) {\n        var transitionsMap = new Map();\n        for (let transition of transitions) {\n            if (transition.length != 3) {\n                throw new Error("invalid transition");\n            }\n            const [src, char, dest] = transition;\n            const current = transitionsMap.get(src);\n            if (current !== undefined) {\n                const transitionsSet = current.get(char);\n                if (transitionsSet !== undefined) {\n                    transitionsSet.add(dest);\n                }\n                else {\n                    current.set(char, new Set([dest]));\n                }\n            }\n            else {\n                transitionsMap.set(src, new Map([[char, new Set([dest])]]));\n            }\n        }\n        return new this(new Set(alphabet), new Set(states), new Set(acceptigStates), initialState, transitionsMap);\n    }\n    isDeterministic() { return false; }\n    ;\n    iteratorForWord(word) {\n        return new automaton_iterator_1.AutomatonIterator(typeof word === "string" ? word.split(\'\') : word, this);\n    }\n    acceptsWord(word) {\n        const it = this.iteratorForWord(word);\n        var result = it.next();\n        while (!result.done) {\n            result = it.next();\n        }\n        const val = result.value;\n        return val.size > 0;\n    }\n    /**\n     * Check if the transitions are valid.\n     * @returns true if the trasitions are valid.\n     */\n    transitionsAreValid() {\n        for (let [source, transitions] of this.transitions) {\n            // source state is in the set of states\n            if (!this.states.has(source)) {\n                return false;\n            }\n            for (let [char, destinations] of transitions) {\n                if (this.isDeterministic() && destinations.size > 1) {\n                    return false;\n                }\n                if (!this.alphabet.has(char) && (this.isDeterministic() || char !== \'\')) {\n                    return false;\n                }\n                for (let destination of destinations) {\n                    // destination is a state in the set of states\n                    if (!this.states.has(destination)) {\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n}\nexports.NFA = NFA;\n;\nclass DFA extends NFA {\n    isDeterministic() { return true; }\n}\nexports.DFA = DFA;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LE1BQU0sRUFBRSxXQUFXLENBQUMsSUFBSSxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7WUFDakQsdUNBQXVDO1lBQ3ZDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDO2dCQUMzQixPQUFPLEtBQUssQ0FBQztZQUNqQixDQUFDO1lBRUQsS0FBSyxJQUFJLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQyxJQUFJLFdBQVcsRUFBRSxDQUFDO2dCQUMzQyxJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUUsSUFBSSxZQUFZLENBQUMsSUFBSSxHQUFHLENBQUMsRUFBRSxDQUFDO29CQUNsRCxPQUFPLEtBQUssQ0FBQztnQkFDakIsQ0FBQztnQkFFRCxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsZUFBZSxFQUFFLElBQUksSUFBSSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUM7b0JBQ3RFLE9BQU8sS0FBSztnQkFDaEIsQ0FBQztnQkFFRCxLQUFLLElBQUksV0FBVyxJQUFJLFlBQVksRUFBRSxDQUFDO29CQUNuQyw4Q0FBOEM7b0JBQzlDLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxDQUFDO3dCQUNoQyxPQUFPLEtBQUssQ0FBQztvQkFDakIsQ0FBQztnQkFDTCxDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFFRCxPQUFPLElBQUksQ0FBQztJQUNoQixDQUFDO0NBQ0o7QUExSEQsa0JBMEhDO0FBQUEsQ0FBQztBQUVGLE1BQWEsR0FBSSxTQUFRLEdBQUc7SUFDZixlQUFlLEtBQWMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDO0NBQ3ZEO0FBRkQsa0JBRUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdXRvbWF0YS8uL3NyYy9hdXRvbWF0b24vYXV0b21hdG9uLnRzPzNiYTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaXNTdWJzZXQgfSBmcm9tIFwiLi91dGlsXCI7XHJcbmltcG9ydCB7IEF1dG9tYXRvbkl0ZXJhdG9yIH0gZnJvbSBcIi4vYXV0b21hdG9uLWl0ZXJhdG9yXCI7XHJcblxyXG5cclxuZXhwb3J0IHR5cGUgQ29uZmlndXJhdGlvbiA9IHsgc3RhdGU6IHN0cmluZzsgd29yZDogc3RyaW5nW10gfTtcclxuXHJcbmV4cG9ydCBjb25zdCBtYWtlQ29uZmlndXJhdGlvbiA9IChzdGF0ZTogc3RyaW5nLCB3b3JkOiBzdHJpbmdbXSkgOiBDb25maWd1cmF0aW9uID0+ICh7IHN0YXRlOiBzdGF0ZSwgd29yZDogd29yZCB9KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBORkEge1xyXG4gICAgYWxwaGFiZXQ6IFNldDxzdHJpbmc+O1xyXG4gICAgc3RhdGVzOiBTZXQ8c3RyaW5nPjsgICAgLy8gYSBzZXQgb2Ygc3RhdGVzIG5hbWVzXHJcbiAgICBhY2NlcHRpbmdTdGF0ZXM6IFNldDxzdHJpbmc+O1xyXG4gICAgaW5pdGlhbFN0YXRlOiBzdHJpbmc7XHJcbiAgICB0cmFuc2l0aW9uczogTWFwPHN0cmluZywgTWFwPHN0cmluZywgU2V0PHN0cmluZz4+PjsgLy8gc3RhdGUgLT4gKGNoYXIgLT4gbmV4dCBzdGF0ZXMpXHJcblxyXG4gICAgY29uc3RydWN0b3IoYWxwaGFiZXQ6IFNldDxzdHJpbmc+LCBzdGF0ZXM6IFNldDxzdHJpbmc+LFxyXG4gICAgICAgIGFjY2VwdGlnU3RhdGVzOiBTZXQ8c3RyaW5nPiwgaW5pdGlhbFN0YXRlOiBzdHJpbmcsXHJcbiAgICAgICAgdHJhbnNpdGlvbnM6IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pj4pIHtcclxuXHJcbiAgICAgICAgdGhpcy5hbHBoYWJldCA9IGFscGhhYmV0O1xyXG4gICAgICAgIHRoaXMuc3RhdGVzID0gc3RhdGVzO1xyXG4gICAgICAgIHRoaXMuYWNjZXB0aW5nU3RhdGVzID0gYWNjZXB0aWdTdGF0ZXM7XHJcbiAgICAgICAgdGhpcy5pbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGU7XHJcbiAgICAgICAgdGhpcy50cmFuc2l0aW9ucyA9IHRyYW5zaXRpb25zO1xyXG5cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWxwaGFiZXQuc2l6ZSA9PT0gMCl7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRoZSBhbHBoYWJldCBtdXN0IG5vdCBiZSBlbXB0eVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzRGV0ZXJtaW5pc3RpYygpICYmIGFscGhhYmV0LmhhcygnJykpe1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlcHNpbG9uIHRyYW5zaXRpb25zIGFyZSBub3QgYWxsb3dlZCBpbiBhIERGQVwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN0YXRlcy5zaXplID09PSAwKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidGhlIHNldCBvZiBzdGF0ZXMgbXVzdCBub3QgYmUgZW1wdHlcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzU3Vic2V0KGFjY2VwdGlnU3RhdGVzLCBzdGF0ZXMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFjY2VwdGluZyBzdGF0ZXMgc2V0IGlzIG5vdCBhIHN1YnNldCBvZiB0aGUgc3RhdGVzIHNldFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc3RhdGVzLmhhcyhpbml0aWFsU3RhdGUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImluaXRpYWwgc3RhdGUgc2V0IGlzIG5vdCBpbiB0aGUgc3RhdGVzIHNldFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdGhpcy50cmFuc2l0aW9uc0FyZVZhbGlkKCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwidHJhbnNpdGlvbiBmdW5jdGlvbiBpcyBub3QgdmFsaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN0YXRpYyBjcmVhdGUoYWxwaGFiZXQ6IHN0cmluZyB8IHN0cmluZ1tdLCBzdGF0ZXM6IHN0cmluZ1tdLCBhY2NlcHRpZ1N0YXRlczogc3RyaW5nW10sIGluaXRpYWxTdGF0ZTogc3RyaW5nLCB0cmFuc2l0aW9uczogc3RyaW5nW11bXSl7XHJcbiAgICAgICAgdmFyIHRyYW5zaXRpb25zTWFwID0gbmV3IE1hcDxzdHJpbmcsIE1hcDxzdHJpbmcsIFNldDxzdHJpbmc+Pj4oKTsgXHJcblxyXG4gICAgICAgIGZvciAobGV0IHRyYW5zaXRpb24gb2YgdHJhbnNpdGlvbnMpe1xyXG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbi5sZW5ndGggIT0gMyl7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHRyYW5zaXRpb25cIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFtzcmMsIGNoYXIsIGRlc3RdID0gdHJhbnNpdGlvbjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnQgPSB0cmFuc2l0aW9uc01hcC5nZXQoc3JjKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50ICE9PSB1bmRlZmluZWQpe1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHJhbnNpdGlvbnNTZXQgPSBjdXJyZW50LmdldChjaGFyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHJhbnNpdGlvbnNTZXQgIT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbnNTZXQuYWRkKGRlc3QpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50LnNldChjaGFyLCBuZXcgU2V0KFtkZXN0XSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnNNYXAuc2V0KHNyYywgbmV3IE1hcChbW2NoYXIsIG5ldyBTZXQoW2Rlc3RdKV1dKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzKG5ldyBTZXQoYWxwaGFiZXQpLCBuZXcgU2V0KHN0YXRlcyksIG5ldyBTZXQoYWNjZXB0aWdTdGF0ZXMpLCBpbml0aWFsU3RhdGUsIHRyYW5zaXRpb25zTWFwKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0RldGVybWluaXN0aWMoKTogYm9vbGVhbiB7IHJldHVybiBmYWxzZTsgfTtcclxuXHJcbiAgICBpdGVyYXRvckZvcldvcmQod29yZDogc3RyaW5nIHwgc3RyaW5nW10pIDogQXV0b21hdG9uSXRlcmF0b3Ige1xyXG4gICAgICAgIHJldHVybiBuZXcgQXV0b21hdG9uSXRlcmF0b3IodHlwZW9mIHdvcmQgPT09IFwic3RyaW5nXCIgPyB3b3JkLnNwbGl0KCcnKSA6IHdvcmQsIHRoaXMpO1xyXG4gICAgfVxyXG5cclxuICAgIGFjY2VwdHNXb3JkKHdvcmQ6IHN0cmluZyB8IHN0cmluZ1tdKXtcclxuICAgICAgICBjb25zdCBpdCA9IHRoaXMuaXRlcmF0b3JGb3JXb3JkKHdvcmQpO1xyXG5cclxuICAgICAgICB2YXIgcmVzdWx0ID0gaXQubmV4dCgpO1xyXG5cclxuICAgICAgICB3aGlsZSghcmVzdWx0LmRvbmUpIHsgXHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGl0Lm5leHQoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHZhbDogU2V0PENvbmZpZ3VyYXRpb24+ID0gcmVzdWx0LnZhbHVlO1xyXG5cclxuICAgICAgICByZXR1cm4gdmFsLnNpemUgPiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgdGhlIHRyYW5zaXRpb25zIGFyZSB2YWxpZC5cclxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHRyYXNpdGlvbnMgYXJlIHZhbGlkLlxyXG4gICAgICovXHJcbiAgICBwcml2YXRlIHRyYW5zaXRpb25zQXJlVmFsaWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgZm9yIChsZXQgW3NvdXJjZSwgdHJhbnNpdGlvbnNdIG9mIHRoaXMudHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgLy8gc291cmNlIHN0YXRlIGlzIGluIHRoZSBzZXQgb2Ygc3RhdGVzXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0ZXMuaGFzKHNvdXJjZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChsZXQgW2NoYXIsIGRlc3RpbmF0aW9uc10gb2YgdHJhbnNpdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzRGV0ZXJtaW5pc3RpYygpICYmIGRlc3RpbmF0aW9ucy5zaXplID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYWxwaGFiZXQuaGFzKGNoYXIpICYmICh0aGlzLmlzRGV0ZXJtaW5pc3RpYygpIHx8IGNoYXIgIT09ICcnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGRlc3RpbmF0aW9uIG9mIGRlc3RpbmF0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGRlc3RpbmF0aW9uIGlzIGEgc3RhdGUgaW4gdGhlIHNldCBvZiBzdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc3RhdGVzLmhhcyhkZXN0aW5hdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgREZBIGV4dGVuZHMgTkZBIHtcclxuICAgIG92ZXJyaWRlIGlzRGV0ZXJtaW5pc3RpYygpOiBib29sZWFuIHsgcmV0dXJuIHRydWU7IH1cclxufVxyXG5cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///719\n')},229:(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.isSubset = isSubset;\nexports.randomInteger = randomInteger;\nexports.flipCoin = flipCoin;\nexports.randomElements = randomElements;\nfunction isSubset(sub, sup) {\n    for (let item of sub)\n        if (!sup.has(item))\n            return false;\n    return true;\n}\nfunction randomInteger(lower, upper) {\n    return Math.floor(lower + Math.random() * (upper - lower + 1));\n}\n;\nfunction flipCoin(p) {\n    return Math.random() <= p;\n}\nfunction randomElements(population, count) {\n    const arr = Array.from(population);\n    const chosen = [];\n    var current;\n    while (chosen.length < count && arr.length > 0) {\n        current = randomInteger(0, arr.length - 1);\n        chosen.push(arr[current]);\n        arr.splice(current, 1);\n    }\n    return chosen;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjI5LmpzIiwibWFwcGluZ3MiOiI7O0FBQUEsNEJBTUM7QUFFRCxzQ0FFQztBQUVELDRCQUVDO0FBRUQsd0NBWUM7QUE1QkQsU0FBZ0IsUUFBUSxDQUFJLEdBQVcsRUFBRSxHQUFXO0lBQ2hELEtBQUssSUFBSSxJQUFJLElBQUksR0FBRztRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUM7WUFDZCxPQUFPLEtBQUssQ0FBQztJQUVyQixPQUFPLElBQUksQ0FBQztBQUNoQixDQUFDO0FBRUQsU0FBZ0IsYUFBYSxDQUFDLEtBQWEsRUFBRSxLQUFhO0lBQ3RELE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsS0FBSyxHQUFHLEtBQUssR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFBQSxDQUFDO0FBRUYsU0FBZ0IsUUFBUSxDQUFDLENBQVM7SUFDOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQzlCLENBQUM7QUFFRCxTQUFnQixjQUFjLENBQUksVUFBdUIsRUFBRSxLQUFhO0lBQ3BFLE1BQU0sR0FBRyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDbkMsTUFBTSxNQUFNLEdBQVEsRUFBRSxDQUFDO0lBQ3ZCLElBQUksT0FBTyxDQUFDO0lBRVosT0FBTyxNQUFNLENBQUMsTUFBTSxHQUFHLEtBQUssSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQyxDQUFDO1FBQzVDLE9BQU8sR0FBRyxhQUFhLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDM0MsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztRQUMxQixHQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRUQsT0FBTyxNQUFNLENBQUM7QUFDbEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9tYXRhLy4vc3JjL2F1dG9tYXRvbi91dGlsLnRzPzRlODIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2V0PFQ+KHN1YjogU2V0PFQ+LCBzdXA6IFNldDxUPikgOiBib29sZWFuIHtcclxuICAgIGZvciAobGV0IGl0ZW0gb2Ygc3ViKVxyXG4gICAgICAgIGlmICghc3VwLmhhcyhpdGVtKSlcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tSW50ZWdlcihsb3dlcjogbnVtYmVyLCB1cHBlcjogbnVtYmVyKSA6IG51bWJlciB7XHJcbiAgICByZXR1cm4gTWF0aC5mbG9vcihsb3dlciArIE1hdGgucmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmbGlwQ29pbihwOiBudW1iZXIpIDogYm9vbGVhbiB7XHJcbiAgICByZXR1cm4gTWF0aC5yYW5kb20oKSA8PSBwO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tRWxlbWVudHM8VD4ocG9wdWxhdGlvbjogSXRlcmFibGU8VD4sIGNvdW50OiBudW1iZXIpIDogVFtdIHtcclxuICAgIGNvbnN0IGFyciA9IEFycmF5LmZyb20ocG9wdWxhdGlvbik7XHJcbiAgICBjb25zdCBjaG9zZW46IFRbXSA9IFtdO1xyXG4gICAgdmFyIGN1cnJlbnQ7XHJcblxyXG4gICAgd2hpbGUgKGNob3Nlbi5sZW5ndGggPCBjb3VudCAmJiBhcnIubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgY3VycmVudCA9IHJhbmRvbUludGVnZXIoMCwgYXJyLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIGNob3Nlbi5wdXNoKGFycltjdXJyZW50XSk7XHJcbiAgICAgICAgYXJyLnNwbGljZShjdXJyZW50LCAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2hvc2VuO1xyXG59XHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///229\n')},156:function(__unused_webpack_module,exports,__webpack_require__){eval('\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, "default", { enumerable: true, value: v });\n}) : function(o, v) {\n    o["default"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nconst automaton_1 = __webpack_require__(719);\nconst automata_util_1 = __webpack_require__(596);\nconst Drawer = __importStar(__webpack_require__(669));\nconst canvas = document.getElementById("canvas");\nconst randomAutomatonButton = document.getElementById("random-automaton");\nconst submitAutomatonButton = document.getElementById("submit");\nconst randomWordButton = document.getElementById("random-word");\nconst runButton = document.getElementById("run");\nconst resetButton = document.getElementById("reset");\nconst determinismCheckbox = document.getElementById("determinism");\nconst delayTextBox = document.getElementById("delay");\nconst inputAlphabet = document.getElementById("alphabet");\nconst inputStates = document.getElementById("states");\nconst inputAcceptingStates = document.getElementById("acceptingStates");\nconst inputInitialState = document.getElementById("initialState");\nconst inputTransitions = document.getElementById("transitions");\nconst inputWord = document.getElementById("word");\nconst outputError = document.getElementById("error");\nconst outputNoErrors = document.getElementById("no-errors");\nconst outputAccepted = document.getElementById("good-result");\nconst outputRejected = document.getElementById("bad-result");\nvar currentAutomaton = undefined;\nvar statesPositions = undefined;\nlet sleepTimeoutId;\nfunction resetDisplay() {\n    outputError.style.display = "none";\n    outputAccepted.style.display = "none";\n    outputRejected.style.display = "none";\n    outputNoErrors.style.display = "block";\n    Drawer.clearCanvas(canvas);\n}\nfunction resetClick() {\n    if (sleepTimeoutId !== undefined) {\n        clearTimeout(sleepTimeoutId);\n        sleepTimeoutId = undefined;\n    }\n    resetDisplay();\n    inputAlphabet.value = "";\n    inputStates.value = "";\n    inputAcceptingStates.value = "";\n    inputInitialState.value = "";\n    inputTransitions.value = "";\n    inputWord.value = "";\n    currentAutomaton = undefined;\n    statesPositions = undefined;\n}\nfunction writeCurrentAutomaton() {\n    if (currentAutomaton === undefined) {\n        throw new Error("no automaton to write");\n    }\n    inputAlphabet.value = [...currentAutomaton.alphabet].join(", ");\n    inputStates.value = [...currentAutomaton.states].join(", ");\n    inputAcceptingStates.value = [...currentAutomaton.acceptingStates].join(", ");\n    inputInitialState.value = currentAutomaton.initialState;\n    const transitionsStrings = [];\n    for (const [source, transitions] of currentAutomaton.transitions) {\n        for (const [char, destinations] of transitions) {\n            for (const destination of destinations) {\n                transitionsStrings.push(`${source}, ${char}, ${destination}`);\n            }\n        }\n    }\n    inputTransitions.value = transitionsStrings.join(" / ");\n}\nfunction readAutomaton() {\n    const alphabet = (0, automata_util_1.valueToCleanArray)(inputAlphabet.value, ",");\n    const states = (0, automata_util_1.valueToCleanArray)(inputStates.value, ",");\n    const acceptingStates = (0, automata_util_1.valueToCleanArray)(inputAcceptingStates.value, ",");\n    const initialState = inputInitialState.value.trim();\n    const transitions = (0, automata_util_1.valueToCleanArray)(inputTransitions.value, "/").map(transition => transition.split(","));\n    if (determinismCheckbox.checked)\n        return automaton_1.DFA.create(alphabet, states, acceptingStates, initialState, transitions);\n    else\n        return automaton_1.NFA.create(alphabet, states, acceptingStates, initialState, transitions);\n}\nfunction submitAutomatonClick() {\n    resetDisplay();\n    try {\n        currentAutomaton = readAutomaton();\n        statesPositions = Drawer.drawAutomaton(canvas, currentAutomaton);\n    }\n    catch (e) {\n        outputError.value = (e instanceof Error) ? e.message : "unknown error";\n        outputError.style.display = "block"; // show errors\n        outputNoErrors.style.display = "none";\n        currentAutomaton = undefined;\n        statesPositions = undefined;\n    }\n    finally {\n        inputWord.value = "";\n    }\n}\nfunction randomAutomatonClick() {\n    resetDisplay();\n    currentAutomaton = (0, automata_util_1.generateAutomaton)(determinismCheckbox.checked);\n    writeCurrentAutomaton();\n    statesPositions = Drawer.drawAutomaton(canvas, currentAutomaton);\n    inputWord.value = "";\n}\nfunction randomWordClick() {\n    const alphabet = (0, automata_util_1.valueToCleanArray)(inputAlphabet.value, ",");\n    inputWord.value = (0, automata_util_1.generateWord)(alphabet);\n}\nfunction sleep(ms) {\n    return new Promise(resolve => {\n        sleepTimeoutId = setTimeout(resolve, ms);\n    });\n}\nfunction runWordClick() {\n    return __awaiter(this, void 0, void 0, function* () {\n        // const sleep = (t: number) => new Promise(resolve => setTimeout(resolve, delay));\n        const input = inputWord.value.trim();\n        submitAutomatonClick();\n        if (currentAutomaton === undefined || statesPositions === undefined) {\n            return;\n        }\n        const delay = parseInt(delayTextBox.value); // ms\n        var pos = statesPositions.get(currentAutomaton.initialState);\n        if (pos === undefined) {\n            throw new Error("cannot find initial state\'s position");\n        }\n        inputWord.value = input;\n        const it = currentAutomaton.iteratorForWord(input);\n        // color the initial state\n        Drawer.drawState(canvas, "blue", pos.x, pos.y, currentAutomaton.initialState, currentAutomaton);\n        yield sleep(delay);\n        while (!it.next().done) {\n            // draw the automata again\n            Drawer.clearCanvas(canvas);\n            Drawer.drawAutomaton(canvas, currentAutomaton);\n            // color the current states\n            for (const state of it.getStates()) {\n                pos = statesPositions.get(state);\n                if (pos === undefined) {\n                    throw new Error("cannot find state\'s position");\n                }\n                Drawer.drawState(canvas, "red", pos.x, pos.y, state, currentAutomaton);\n            }\n            yield sleep(delay);\n        }\n        // leave only accepting states colored\n        Drawer.clearCanvas(canvas);\n        Drawer.drawAutomaton(canvas, currentAutomaton);\n        var accepted = false;\n        for (const state of it.getStates()) {\n            if (currentAutomaton.acceptingStates.has(state)) {\n                pos = statesPositions.get(state);\n                if (pos === undefined) {\n                    throw new Error("cannot find state\'s position");\n                }\n                accepted = true;\n                Drawer.drawState(canvas, "green", pos.x, pos.y, state, currentAutomaton);\n            }\n        }\n        if (accepted) {\n            outputAccepted.style.display = \'block\';\n        }\n        else {\n            outputRejected.style.display = \'block\';\n        }\n    });\n}\nrandomAutomatonButton.addEventListener("click", randomAutomatonClick);\nsubmitAutomatonButton.addEventListener("click", submitAutomatonClick);\nrandomWordButton.addEventListener("click", randomWordClick);\nrunButton.addEventListener("click", runWordClick);\nresetButton.addEventListener("click", resetClick);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUMzQyxDQUFDO0lBQ0wsQ0FBQztDQUFBO0FBRUQscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLG9CQUFvQixDQUFDLENBQUM7QUFDdEUscUJBQXFCLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLG9CQUFvQixDQUFDLENBQUM7QUFDdEUsZ0JBQWdCLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxFQUFFLGVBQWUsQ0FBQyxDQUFDO0FBQzVELFNBQVMsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLENBQUM7QUFDbEQsV0FBVyxDQUFDLGdCQUFnQixDQUFDLE9BQU8sRUFBRSxVQUFVLENBQUMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9tYXRhLy4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgREZBLCBORkEgfSBmcm9tIFwiLi9hdXRvbWF0b24vYXV0b21hdG9uXCI7XHJcbmltcG9ydCB7IGdlbmVyYXRlQXV0b21hdG9uLCBnZW5lcmF0ZVdvcmQsIHZhbHVlVG9DbGVhbkFycmF5IH0gZnJvbSBcIi4vd2ViL2F1dG9tYXRhLXV0aWxcIjtcclxuaW1wb3J0ICogYXMgRHJhd2VyIGZyb20gXCIuL3dlYi9hdXRvbWF0YS1kcmF3ZXJcIjtcclxuXHJcbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpIGFzIEhUTUxDYW52YXNFbGVtZW50O1xyXG5cclxuY29uc3QgcmFuZG9tQXV0b21hdG9uQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyYW5kb20tYXV0b21hdG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCBzdWJtaXRBdXRvbWF0b25CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN1Ym1pdFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuY29uc3QgcmFuZG9tV29yZEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmFuZG9tLXdvcmRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbmNvbnN0IHJ1bkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5jb25zdCByZXNldEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRcIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcblxyXG5jb25zdCBkZXRlcm1pbmlzbUNoZWNrYm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZXRlcm1pbmlzbVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG5jb25zdCBkZWxheVRleHRCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRlbGF5XCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG5jb25zdCBpbnB1dEFscGhhYmV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbHBoYWJldFwiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5jb25zdCBpbnB1dFN0YXRlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhdGVzXCIpIGFzIEhUTUxUZXh0QXJlYUVsZW1lbnQ7XHJcbmNvbnN0IGlucHV0QWNjZXB0aW5nU3RhdGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhY2NlcHRpbmdTdGF0ZXNcIikgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuY29uc3QgaW5wdXRJbml0aWFsU3RhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImluaXRpYWxTdGF0ZVwiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5jb25zdCBpbnB1dFRyYW5zaXRpb25zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFuc2l0aW9uc1wiKSBhcyBIVE1MVGV4dEFyZWFFbGVtZW50O1xyXG5jb25zdCBpbnB1dFdvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndvcmRcIikgYXMgSFRNTFRleHRBcmVhRWxlbWVudDtcclxuXHJcbmNvbnN0IG91dHB1dEVycm9yID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlcnJvclwiKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcclxuY29uc3Qgb3V0cHV0Tm9FcnJvcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm5vLWVycm9yc1wiKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcclxuY29uc3Qgb3V0cHV0QWNjZXB0ZWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdvb2QtcmVzdWx0XCIpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xyXG5jb25zdCBvdXRwdXRSZWplY3RlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmFkLXJlc3VsdFwiKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcclxuXHJcbnZhciBjdXJyZW50QXV0b21hdG9uOiBORkEgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XHJcbnZhciBzdGF0ZXNQb3NpdGlvbnM6IE1hcDxzdHJpbmcsIHt4OiBudW1iZXIsIHk6IG51bWJlcn0+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG5cclxubGV0IHNsZWVwVGltZW91dElkOiBSZXR1cm5UeXBlPHR5cGVvZiBzZXRUaW1lb3V0PiB8IHVuZGVmaW5lZDtcclxuXHJcbmZ1bmN0aW9uIHJlc2V0RGlzcGxheSgpe1xyXG4gICAgb3V0cHV0RXJyb3Iuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgb3V0cHV0QWNjZXB0ZWQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgb3V0cHV0UmVqZWN0ZWQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgb3V0cHV0Tm9FcnJvcnMuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgIERyYXdlci5jbGVhckNhbnZhcyhjYW52YXMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldENsaWNrKCl7XHJcbiAgICBpZiAoc2xlZXBUaW1lb3V0SWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGNsZWFyVGltZW91dChzbGVlcFRpbWVvdXRJZCk7XHJcbiAgICAgICAgc2xlZXBUaW1lb3V0SWQgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXREaXNwbGF5KCk7XHJcbiAgICBpbnB1dEFscGhhYmV0LnZhbHVlID0gXCJcIjtcclxuICAgIGlucHV0U3RhdGVzLnZhbHVlID0gXCJcIjtcclxuICAgIGlucHV0QWNjZXB0aW5nU3RhdGVzLnZhbHVlID0gXCJcIjtcclxuICAgIGlucHV0SW5pdGlhbFN0YXRlLnZhbHVlID0gXCJcIjtcclxuICAgIGlucHV0VHJhbnNpdGlvbnMudmFsdWUgPSBcIlwiO1xyXG4gICAgaW5wdXRXb3JkLnZhbHVlID0gXCJcIjtcclxuICAgIGN1cnJlbnRBdXRvbWF0b24gPSB1bmRlZmluZWQ7XHJcbiAgICBzdGF0ZXNQb3NpdGlvbnMgPSB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHdyaXRlQ3VycmVudEF1dG9tYXRvbigpe1xyXG4gICAgaWYgKGN1cnJlbnRBdXRvbWF0b24gPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibm8gYXV0b21hdG9uIHRvIHdyaXRlXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGlucHV0QWxwaGFiZXQudmFsdWUgPSBbLi4uY3VycmVudEF1dG9tYXRvbi5hbHBoYWJldF0uam9pbihcIiwgXCIpO1xyXG4gICAgaW5wdXRTdGF0ZXMudmFsdWUgPSBbLi4uY3VycmVudEF1dG9tYXRvbi5zdGF0ZXNdLmpvaW4oXCIsIFwiKTtcclxuICAgIGlucHV0QWNjZXB0aW5nU3RhdGVzLnZhbHVlID0gWy4uLmN1cnJlbnRBdXRvbWF0b24uYWNjZXB0aW5nU3RhdGVzXS5qb2luKFwiLCBcIik7XHJcbiAgICBpbnB1dEluaXRpYWxTdGF0ZS52YWx1ZSA9IGN1cnJlbnRBdXRvbWF0b24uaW5pdGlhbFN0YXRlO1xyXG5cclxuICAgIGNvbnN0IHRyYW5zaXRpb25zU3RyaW5nczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IFtzb3VyY2UsIHRyYW5zaXRpb25zXSBvZiBjdXJyZW50QXV0b21hdG9uLnRyYW5zaXRpb25zKXtcclxuICAgICAgICBmb3IgKGNvbnN0IFtjaGFyLCBkZXN0aW5hdGlvbnNdIG9mIHRyYW5zaXRpb25zKXtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBkZXN0aW5hdGlvbiBvZiBkZXN0aW5hdGlvbnMpe1xyXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnNTdHJpbmdzLnB1c2goYCR7c291cmNlfSwgJHtjaGFyfSwgJHtkZXN0aW5hdGlvbn1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFRyYW5zaXRpb25zLnZhbHVlID0gdHJhbnNpdGlvbnNTdHJpbmdzLmpvaW4oXCIgLyBcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRBdXRvbWF0b24oKSA6IE5GQSB7XHJcbiAgICBjb25zdCBhbHBoYWJldCA9IHZhbHVlVG9DbGVhbkFycmF5KGlucHV0QWxwaGFiZXQudmFsdWUsIFwiLFwiKTtcclxuICAgIGNvbnN0IHN0YXRlcyA9IHZhbHVlVG9DbGVhbkFycmF5KGlucHV0U3RhdGVzLnZhbHVlLCBcIixcIik7XHJcbiAgICBjb25zdCBhY2NlcHRpbmdTdGF0ZXMgPSB2YWx1ZVRvQ2xlYW5BcnJheShpbnB1dEFjY2VwdGluZ1N0YXRlcy52YWx1ZSwgXCIsXCIpO1xyXG4gICAgY29uc3QgaW5pdGlhbFN0YXRlID0gaW5wdXRJbml0aWFsU3RhdGUudmFsdWUudHJpbSgpO1xyXG4gICAgY29uc3QgdHJhbnNpdGlvbnMgPSB2YWx1ZVRvQ2xlYW5BcnJheShpbnB1dFRyYW5zaXRpb25zLnZhbHVlLCBcIi9cIikubWFwKHRyYW5zaXRpb24gPT4gdHJhbnNpdGlvbi5zcGxpdChcIixcIikpO1xyXG5cclxuICAgIGlmIChkZXRlcm1pbmlzbUNoZWNrYm94LmNoZWNrZWQpXHJcbiAgICAgICAgcmV0dXJuIERGQS5jcmVhdGUoYWxwaGFiZXQsIHN0YXRlcywgYWNjZXB0aW5nU3RhdGVzLCBpbml0aWFsU3RhdGUsIHRyYW5zaXRpb25zKTtcclxuICAgIGVsc2VcclxuICAgICAgICByZXR1cm4gTkZBLmNyZWF0ZShhbHBoYWJldCwgc3RhdGVzLCBhY2NlcHRpbmdTdGF0ZXMsIGluaXRpYWxTdGF0ZSwgdHJhbnNpdGlvbnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdWJtaXRBdXRvbWF0b25DbGljaygpIHtcclxuICAgIHJlc2V0RGlzcGxheSgpO1xyXG5cclxuICAgIHRyeXtcclxuICAgICAgICBjdXJyZW50QXV0b21hdG9uID0gcmVhZEF1dG9tYXRvbigpO1xyXG4gICAgICAgIHN0YXRlc1Bvc2l0aW9ucyA9IERyYXdlci5kcmF3QXV0b21hdG9uKGNhbnZhcywgY3VycmVudEF1dG9tYXRvbik7XHJcbiAgICB9IGNhdGNoKGUpe1xyXG4gICAgICAgIG91dHB1dEVycm9yLnZhbHVlID0gKGUgaW5zdGFuY2VvZiBFcnJvcikgPyBlLm1lc3NhZ2UgOiBcInVua25vd24gZXJyb3JcIjtcclxuICAgICAgICBvdXRwdXRFcnJvci5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiOyAgICAvLyBzaG93IGVycm9yc1xyXG4gICAgICAgIG91dHB1dE5vRXJyb3JzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgXHJcbiAgICAgICAgY3VycmVudEF1dG9tYXRvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICBzdGF0ZXNQb3NpdGlvbnMgPSB1bmRlZmluZWQ7XHJcbiAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIGlucHV0V29yZC52YWx1ZSA9IFwiXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhbmRvbUF1dG9tYXRvbkNsaWNrKCl7XHJcbiAgICByZXNldERpc3BsYXkoKTtcclxuXHJcbiAgICBjdXJyZW50QXV0b21hdG9uID0gZ2VuZXJhdGVBdXRvbWF0b24oZGV0ZXJtaW5pc21DaGVja2JveC5jaGVja2VkKTtcclxuXHJcbiAgICB3cml0ZUN1cnJlbnRBdXRvbWF0b24oKTtcclxuXHJcbiAgICBzdGF0ZXNQb3NpdGlvbnMgPSBEcmF3ZXIuZHJhd0F1dG9tYXRvbihjYW52YXMsIGN1cnJlbnRBdXRvbWF0b24pO1xyXG5cclxuICAgIGlucHV0V29yZC52YWx1ZSA9IFwiXCI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJhbmRvbVdvcmRDbGljaygpe1xyXG4gICAgY29uc3QgYWxwaGFiZXQgPSB2YWx1ZVRvQ2xlYW5BcnJheShpbnB1dEFscGhhYmV0LnZhbHVlLCBcIixcIik7XHJcblxyXG4gICAgaW5wdXRXb3JkLnZhbHVlID0gZ2VuZXJhdGVXb3JkKGFscGhhYmV0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xlZXAobXM6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIHNsZWVwVGltZW91dElkID0gc2V0VGltZW91dChyZXNvbHZlLCBtcyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcnVuV29yZENsaWNrKCl7XHJcbiAgICAvLyBjb25zdCBzbGVlcCA9ICh0OiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBkZWxheSkpO1xyXG4gICAgY29uc3QgaW5wdXQgPSBpbnB1dFdvcmQudmFsdWUudHJpbSgpO1xyXG5cclxuICAgIHN1Ym1pdEF1dG9tYXRvbkNsaWNrKCk7XHJcblxyXG4gICAgaWYgKGN1cnJlbnRBdXRvbWF0b24gPT09IHVuZGVmaW5lZCB8fCBzdGF0ZXNQb3NpdGlvbnMgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRlbGF5ID0gcGFyc2VJbnQoZGVsYXlUZXh0Qm94LnZhbHVlKTsgLy8gbXNcclxuXHJcbiAgICB2YXIgcG9zID0gc3RhdGVzUG9zaXRpb25zLmdldChjdXJyZW50QXV0b21hdG9uLmluaXRpYWxTdGF0ZSk7XHJcblxyXG4gICAgaWYgKHBvcyA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZmluZCBpbml0aWFsIHN0YXRlJ3MgcG9zaXRpb25cIik7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRXb3JkLnZhbHVlID0gaW5wdXQ7XHJcblxyXG4gICAgY29uc3QgaXQgPSBjdXJyZW50QXV0b21hdG9uLml0ZXJhdG9yRm9yV29yZChpbnB1dCk7XHJcblxyXG4gICAgLy8gY29sb3IgdGhlIGluaXRpYWwgc3RhdGVcclxuICAgIERyYXdlci5kcmF3U3RhdGUoY2FudmFzLCBcImJsdWVcIiwgcG9zLngsIHBvcy55LCBjdXJyZW50QXV0b21hdG9uLmluaXRpYWxTdGF0ZSwgY3VycmVudEF1dG9tYXRvbik7XHJcblxyXG4gICAgYXdhaXQgc2xlZXAoZGVsYXkpO1xyXG5cclxuICAgIHdoaWxlICghaXQubmV4dCgpLmRvbmUpIHtcclxuICAgICAgICAvLyBkcmF3IHRoZSBhdXRvbWF0YSBhZ2FpblxyXG5cclxuICAgICAgICBEcmF3ZXIuY2xlYXJDYW52YXMoY2FudmFzKTtcclxuICAgICAgICBEcmF3ZXIuZHJhd0F1dG9tYXRvbihjYW52YXMsIGN1cnJlbnRBdXRvbWF0b24pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGNvbG9yIHRoZSBjdXJyZW50IHN0YXRlc1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhdGUgb2YgaXQuZ2V0U3RhdGVzKCkpe1xyXG4gICAgICAgICAgICBwb3MgPSBzdGF0ZXNQb3NpdGlvbnMuZ2V0KHN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZmluZCBzdGF0ZSdzIHBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBEcmF3ZXIuZHJhd1N0YXRlKGNhbnZhcywgXCJyZWRcIiwgcG9zLngsIHBvcy55LCBzdGF0ZSwgY3VycmVudEF1dG9tYXRvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBzbGVlcChkZWxheSk7XHJcbiAgICB9IFxyXG5cclxuICAgIC8vIGxlYXZlIG9ubHkgYWNjZXB0aW5nIHN0YXRlcyBjb2xvcmVkXHJcblxyXG4gICAgRHJhd2VyLmNsZWFyQ2FudmFzKGNhbnZhcyk7XHJcbiAgICBEcmF3ZXIuZHJhd0F1dG9tYXRvbihjYW52YXMsIGN1cnJlbnRBdXRvbWF0b24pO1xyXG5cclxuICAgIHZhciBhY2NlcHRlZDogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgZm9yIChjb25zdCBzdGF0ZSBvZiBpdC5nZXRTdGF0ZXMoKSl7XHJcbiAgICAgICAgaWYgKGN1cnJlbnRBdXRvbWF0b24uYWNjZXB0aW5nU3RhdGVzLmhhcyhzdGF0ZSkpe1xyXG4gICAgICAgICAgICBwb3MgPSBzdGF0ZXNQb3NpdGlvbnMuZ2V0KHN0YXRlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZmluZCBzdGF0ZSdzIHBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhY2NlcHRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIERyYXdlci5kcmF3U3RhdGUoY2FudmFzLCBcImdyZWVuXCIsIHBvcy54LCBwb3MueSwgc3RhdGUsIGN1cnJlbnRBdXRvbWF0b24pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoYWNjZXB0ZWQpe1xyXG4gICAgICAgIG91dHB1dEFjY2VwdGVkLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBvdXRwdXRSZWplY3RlZC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIH1cclxufVxyXG5cclxucmFuZG9tQXV0b21hdG9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByYW5kb21BdXRvbWF0b25DbGljayk7XHJcbnN1Ym1pdEF1dG9tYXRvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgc3VibWl0QXV0b21hdG9uQ2xpY2spO1xyXG5yYW5kb21Xb3JkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByYW5kb21Xb3JkQ2xpY2spO1xyXG5ydW5CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHJ1bldvcmRDbGljayk7XHJcbnJlc2V0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXNldENsaWNrKTtcclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///156\n')},669:(__unused_webpack_module,exports)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.clearCanvas = clearCanvas;\nexports.drawState = drawState;\nexports.drawAutomaton = drawAutomaton;\nconst ST_RAD_OUT = 30, ST_RAD_IN = 25, ST_FONT = "20px Cambria";\nconst TR_ARR_HEAD = 10, TR_SELF_RAD = 15, TR_PAD = 10, TR_ELV = 30, TR_FONT = "20px Cambria";\nconst INIT_ARR_LEN = 20, INIT_ARR_PAD = 10, INIT_ARR_HEAD = 10;\nconst EPSILON = \'ε\', LEFT_ARROW = "← ", RIGHT_ARROW = " →";\nfunction clearCanvas(canvas) {\n    const ctx = canvas.getContext("2d");\n    if (ctx === null) {\n        throw new Error("cannot get context");\n    }\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\n}\n/**\n * draw a state in the automata diagram.\n * @param canvas the canvas to draw on.\n * @param x the x coordinate of the center of the state\'s circle.\n * @param y the y coordinate of the center of the state\'s circle.\n * @param state the state.\n * @param automaton the entire NFA.\n */\nfunction drawState(canvas, color, x, y, state, automaton) {\n    const ctx = canvas.getContext("2d");\n    if (ctx === null) {\n        throw new Error("cannot get context");\n    }\n    ctx.save();\n    ctx.strokeStyle = color;\n    ctx.fillStyle = color;\n    // draw the outer circle\n    ctx.beginPath();\n    ctx.arc(x, y, ST_RAD_OUT, 0, 2 * Math.PI);\n    ctx.stroke();\n    // write the state\'s name\n    ctx.font = ST_FONT;\n    ctx.textAlign = \'center\';\n    ctx.textBaseline = \'middle\';\n    ctx.fillText(state, x, y);\n    if (automaton.acceptingStates.has(state)) {\n        // draw th inner circle\n        ctx.beginPath();\n        ctx.arc(x, y, ST_RAD_IN, 0, 2 * Math.PI);\n        ctx.stroke();\n    }\n    ctx.restore();\n    if (state === automaton.initialState) {\n        // draw an arrow above the outer circle\n        ctx.beginPath();\n        ctx.moveTo(x, y - ST_RAD_OUT - INIT_ARR_PAD - INIT_ARR_LEN);\n        ctx.lineTo(x, y - ST_RAD_OUT - INIT_ARR_PAD);\n        ctx.stroke();\n        // draw the arrowhead\n        ctx.beginPath();\n        ctx.moveTo(x - INIT_ARR_HEAD * Math.cos(Math.PI / 3), y - ST_RAD_OUT - INIT_ARR_PAD - INIT_ARR_HEAD * Math.sin(Math.PI / 3));\n        ctx.lineTo(x + INIT_ARR_HEAD * Math.cos(Math.PI / 3), y - ST_RAD_OUT - INIT_ARR_PAD - INIT_ARR_HEAD * Math.sin(Math.PI / 3));\n        ctx.lineTo(x, y - ST_RAD_OUT - INIT_ARR_PAD);\n        ctx.closePath();\n        ctx.fill();\n    }\n}\n/**\n * draw a transition from a state to itself.\n * @param canvas the canvas to draw on.\n * @param x the x coordinate of the center of the state\'s circle.\n * @param y the y coordinate of the center of the state\'s circle.\n * @param char the char (or characters) that define this transition.\n */\nfunction drawSelfTransition(canvas, x, y, char) {\n    const ctx = canvas.getContext("2d");\n    if (ctx === null) {\n        throw new Error("cannot get context");\n    }\n    const centerX = canvas.width / 2, centerY = canvas.height / 2;\n    const angle = Math.atan2(y - centerY, x - centerX);\n    const loopCenterY = y + (TR_SELF_RAD + ST_RAD_OUT) * Math.sin(angle);\n    const loopCenterX = x + (TR_SELF_RAD + ST_RAD_OUT) * Math.cos(angle);\n    const startAngle = 3 / 4 * Math.PI;\n    const endAngle = 1 / 4 * Math.PI;\n    // draw the arc\n    ctx.beginPath();\n    ctx.arc(loopCenterX, loopCenterY, TR_SELF_RAD, Math.PI / 2 + angle + startAngle, Math.PI / 2 + angle + endAngle);\n    ctx.stroke();\n    // arrow endpoint\n    const arrowX = loopCenterX + TR_SELF_RAD * Math.cos(Math.PI / 2 + angle + endAngle);\n    const arrowY = loopCenterY + TR_SELF_RAD * Math.sin(Math.PI / 2 + angle + endAngle);\n    // arrowhead\n    const arrowAngle = (Math.PI / 2 + angle + endAngle) + Math.PI / 2;\n    ctx.beginPath();\n    ctx.moveTo(arrowX, arrowY);\n    ctx.lineTo(arrowX - TR_ARR_HEAD * Math.cos(arrowAngle - Math.PI / 6), arrowY - TR_ARR_HEAD * Math.sin(arrowAngle - Math.PI / 6));\n    ctx.moveTo(arrowX, arrowY);\n    ctx.lineTo(arrowX - TR_ARR_HEAD * Math.cos(arrowAngle + Math.PI / 6), arrowY - TR_ARR_HEAD * Math.sin(arrowAngle + Math.PI / 6));\n    ctx.stroke();\n    // write the letter\n    const controlX = x + (2 * TR_SELF_RAD + ST_RAD_OUT + TR_PAD) * Math.cos(angle);\n    const controlY = y + (2 * TR_SELF_RAD + ST_RAD_OUT + TR_PAD) * Math.sin(angle);\n    ctx.save();\n    ctx.translate(controlX, controlY);\n    if (angle > Math.PI / 2 || angle < -Math.PI / 2)\n        // the text is "too upside down"\n        ctx.rotate(angle + Math.PI);\n    else\n        ctx.rotate(angle);\n    ctx.font = TR_FONT;\n    ctx.fillText(char === \'\' ? EPSILON : char, 0, 0);\n    ctx.restore();\n}\n/**\n * draw a transition (arrow) in the automaton diagram.\n * @param ctx canvas\' context.\n * @param x1 source state\'s circle x coordinate.\n * @param y1 source state\'s circle y coordinate.\n * @param x2 destination state\'s circle x coordinate.\n * @param y2 destination state\'s circle y coordinate.\n * @param char the char(s) corresponding to the transition.\n */\nfunction drawTransition(canvas, x1, y1, x2, y2, char) {\n    const ctx = canvas.getContext("2d");\n    if (ctx === null) {\n        throw new Error("cannot get context");\n    }\n    // self loop\n    if (x1 === x2 && y1 === y2) {\n        drawSelfTransition(canvas, x1, y1, char);\n        return;\n    }\n    // two different states\n    const angle = Math.atan2(y2 - y1, x2 - x1);\n    const startX = x1 + ST_RAD_OUT * Math.cos(angle), endX = x2 - ST_RAD_OUT * Math.cos(angle);\n    const startY = y1 + ST_RAD_OUT * Math.sin(angle), endY = y2 - ST_RAD_OUT * Math.sin(angle);\n    const midX = (startX + endX) / 2, midY = (startY + endY) / 2;\n    const dx = endX - startX, dy = endY - startY;\n    const perpX = -dy, perpY = dx;\n    // normalize the perpendicular vector\n    const length = Math.sqrt(perpX * perpX + perpY * perpY);\n    const unitPerpX = perpX / length;\n    const unitPerpY = perpY / length;\n    // control point for the quadratic curve\n    const controlX = midX + unitPerpX * TR_ELV;\n    const controlY = midY + unitPerpY * TR_ELV;\n    // draw the arc\n    ctx.beginPath();\n    ctx.moveTo(startX, startY);\n    ctx.quadraticCurveTo(controlX, controlY, endX, endY);\n    ctx.stroke();\n    // draw the head\n    ctx.beginPath();\n    ctx.moveTo(endX, endY);\n    ctx.lineTo(endX - TR_ARR_HEAD * Math.cos(angle - Math.PI / 6), endY - TR_ARR_HEAD * Math.sin(angle - Math.PI / 6));\n    ctx.moveTo(endX, endY);\n    ctx.lineTo(endX - TR_ARR_HEAD * Math.cos(angle + Math.PI / 6), endY - TR_ARR_HEAD * Math.sin(angle + Math.PI / 6));\n    ctx.stroke();\n    // write the letter\n    ctx.save();\n    ctx.translate(controlX, controlY);\n    if (angle > Math.PI / 2 || angle < -Math.PI / 2)\n        // the text is "too upside down"\n        ctx.rotate(angle + Math.PI);\n    else\n        ctx.rotate(angle);\n    ctx.font = TR_FONT;\n    if (endX > startX)\n        ctx.fillText((char === \'\' ? EPSILON : char) + RIGHT_ARROW, 0, 0);\n    else if (endX < startX)\n        ctx.fillText(LEFT_ARROW + (char === \'\' ? EPSILON : char), 0, 0);\n    else if (endY > startY)\n        // same x but the arrow is at the bottom end of the transition arrow\n        ctx.fillText((char === \'\' ? EPSILON : char) + RIGHT_ARROW, 0, 0);\n    else\n        ctx.fillText(LEFT_ARROW + (char === \'\' ? EPSILON : char), 0, 0);\n    ctx.restore();\n}\n/**\n * calculate the position of each state\'s circle in the canvas.\n * @param canvas the canvas.\n * @param automaton the automaton.\n * @returns a mapping of states and positions (state, {x, y}).\n */\nfunction calculatePositions(canvas, automaton) {\n    const centerX = canvas.width / 2, centerY = canvas.height / 2;\n    const rotationPerState = (2 * Math.PI) / automaton.states.size;\n    const margin = ST_RAD_OUT + TR_PAD + 2 * TR_SELF_RAD + 30;\n    const radius = Math.min(canvas.width, canvas.height) / 2 - margin;\n    const map = new Map();\n    [...automaton.states].forEach((state, index) => map.set(state, {\n        x: centerX + radius * Math.cos(index * rotationPerState),\n        y: centerY + radius * Math.sin(index * rotationPerState)\n    }));\n    return map;\n}\n/**\n * draw an entire automaton diagram.\n * @param canvas a canvas to draw on.\n * @param automaton an automaton to draw.\n * @returns the positions of the states.\n */\nfunction drawAutomaton(canvas, automaton) {\n    const positions = calculatePositions(canvas, automaton);\n    const sameEnds = (f, s) => f[0] === s[0] && f[2] === s[2];\n    for (const [state, position] of positions) {\n        drawState(canvas, "black", position.x, position.y, state, automaton);\n    }\n    for (const [src, transitions] of automaton.transitions) {\n        const fromSrc = new Map();\n        // add char to dest\n        for (var [char, dests] of transitions) {\n            char = char === \'\' ? EPSILON : char;\n            for (const dest of dests) {\n                const destEntry = fromSrc.get(dest);\n                if (destEntry) {\n                    destEntry.add(char);\n                }\n                else {\n                    fromSrc.set(dest, new Set([char]));\n                }\n            }\n        }\n        // draw all the arrows from the current source\n        const srcPos = positions.get(src);\n        if (srcPos === undefined) {\n            throw new Error("missing source\'s position");\n        }\n        const { x: x1, y: y1 } = srcPos;\n        for (const [dest, chars] of fromSrc) {\n            const destPos = positions.get(dest);\n            if (destPos === undefined) {\n                throw new Error("missing destinations\'s position");\n            }\n            const { x: x2, y: y2 } = destPos;\n            drawTransition(canvas, x1, y1, x2, y2, [...chars].join(", "));\n        }\n    }\n    return positions;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkMsQ0FBQztZQUNMLENBQUM7UUFDTCxDQUFDO1FBRUQsOENBQThDO1FBRTlDLE1BQU0sTUFBTSxHQUFHLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7UUFFbEMsSUFBSSxNQUFNLEtBQUssU0FBUyxFQUFDLENBQUM7WUFDdEIsTUFBTSxJQUFJLEtBQUssQ0FBQywyQkFBMkIsQ0FBQyxDQUFDO1FBQ2pELENBQUM7UUFFRCxNQUFNLEVBQUMsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsRUFBRSxFQUFDLEdBQUcsTUFBTSxDQUFDO1FBRTlCLEtBQUssTUFBTSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsSUFBSSxPQUFPLEVBQUMsQ0FBQztZQUNqQyxNQUFNLE9BQU8sR0FBRyxTQUFTLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO1lBRXBDLElBQUksT0FBTyxLQUFLLFNBQVMsRUFBQyxDQUFDO2dCQUN2QixNQUFNLElBQUksS0FBSyxDQUFDLGlDQUFpQyxDQUFDLENBQUM7WUFDdkQsQ0FBQztZQUVELE1BQU0sRUFBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUMsRUFBRSxFQUFFLEVBQUMsR0FBRyxPQUFPLENBQUM7WUFFL0IsY0FBYyxDQUFDLE1BQU0sRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLENBQUM7SUFDTCxDQUFDO0lBRUQsT0FBTyxTQUFTLENBQUM7QUFDckIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9tYXRhLy4vc3JjL3dlYi9hdXRvbWF0YS1kcmF3ZXIudHM/OTE1MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBORkEgfSBmcm9tIFwiLi4vYXV0b21hdG9uL2F1dG9tYXRvblwiXHJcblxyXG5jb25zdCBTVF9SQURfT1VUID0gMzAsIFNUX1JBRF9JTiA9IDI1LCBTVF9GT05UID0gXCIyMHB4IENhbWJyaWFcIjtcclxuY29uc3QgVFJfQVJSX0hFQUQgPSAxMCwgVFJfU0VMRl9SQUQgPSAxNSwgVFJfUEFEID0gMTAsIFRSX0VMViA9IDMwLCBUUl9GT05UID0gXCIyMHB4IENhbWJyaWFcIjtcclxuY29uc3QgSU5JVF9BUlJfTEVOID0gMjAsIElOSVRfQVJSX1BBRCA9IDEwLCBJTklUX0FSUl9IRUFEID0gMTA7XHJcbmNvbnN0IEVQU0lMT04gPSAnzrUnLCBMRUZUX0FSUk9XID0gXCLihpAgXCIsIFJJR0hUX0FSUk9XID0gXCIg4oaSXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJDYW52YXMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCl7XHJcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgIGlmIChjdHggPT09IG51bGwpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBnZXQgY29udGV4dFwiKTtcclxuICAgIH1cclxuXHJcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBkcmF3IGEgc3RhdGUgaW4gdGhlIGF1dG9tYXRhIGRpYWdyYW0uXHJcbiAqIEBwYXJhbSBjYW52YXMgdGhlIGNhbnZhcyB0byBkcmF3IG9uLlxyXG4gKiBAcGFyYW0geCB0aGUgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHN0YXRlJ3MgY2lyY2xlLlxyXG4gKiBAcGFyYW0geSB0aGUgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIHN0YXRlJ3MgY2lyY2xlLlxyXG4gKiBAcGFyYW0gc3RhdGUgdGhlIHN0YXRlLlxyXG4gKiBAcGFyYW0gYXV0b21hdG9uIHRoZSBlbnRpcmUgTkZBLlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdTdGF0ZShjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBjb2xvcjogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlciwgc3RhdGU6IHN0cmluZywgYXV0b21hdG9uOiBORkEpOiB2b2lkIHtcclxuICAgIGNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcblxyXG4gICAgaWYgKGN0eCA9PT0gbnVsbCl7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IGdldCBjb250ZXh0XCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjdHguc2F2ZSgpO1xyXG5cclxuICAgIGN0eC5zdHJva2VTdHlsZSA9IGNvbG9yO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgXHJcbiAgICAvLyBkcmF3IHRoZSBvdXRlciBjaXJjbGVcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5hcmMoeCwgeSwgU1RfUkFEX09VVCwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgIC8vIHdyaXRlIHRoZSBzdGF0ZSdzIG5hbWVcclxuICAgIGN0eC5mb250ID0gU1RfRk9OVDtcclxuICAgIGN0eC50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGN0eC50ZXh0QmFzZWxpbmUgPSAnbWlkZGxlJztcclxuICAgIGN0eC5maWxsVGV4dChzdGF0ZSwgeCwgeSk7XHJcblxyXG4gICAgaWYgKGF1dG9tYXRvbi5hY2NlcHRpbmdTdGF0ZXMuaGFzKHN0YXRlKSkge1xyXG4gICAgICAgIC8vIGRyYXcgdGggaW5uZXIgY2lyY2xlXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCwgeSwgU1RfUkFEX0lOLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgaWYgKHN0YXRlID09PSBhdXRvbWF0b24uaW5pdGlhbFN0YXRlKSB7XHJcbiAgICAgICAgLy8gZHJhdyBhbiBhcnJvdyBhYm92ZSB0aGUgb3V0ZXIgY2lyY2xlXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCwgeSAtIFNUX1JBRF9PVVQgLSBJTklUX0FSUl9QQUQgLSBJTklUX0FSUl9MRU4pO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCwgeSAtIFNUX1JBRF9PVVQgLSBJTklUX0FSUl9QQUQpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgLy8gZHJhdyB0aGUgYXJyb3doZWFkXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCAtIElOSVRfQVJSX0hFQUQgKiBNYXRoLmNvcyhNYXRoLlBJIC8gMyksXHJcbiAgICAgICAgICAgIHkgLSBTVF9SQURfT1VUIC0gSU5JVF9BUlJfUEFEIC0gSU5JVF9BUlJfSEVBRCAqIE1hdGguc2luKE1hdGguUEkgLyAzKSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgSU5JVF9BUlJfSEVBRCAqIE1hdGguY29zKE1hdGguUEkgLyAzKSxcclxuICAgICAgICAgICAgeSAtIFNUX1JBRF9PVVQgLSBJTklUX0FSUl9QQUQgLSBJTklUX0FSUl9IRUFEICogTWF0aC5zaW4oTWF0aC5QSSAvIDMpKTtcclxuICAgICAgICBjdHgubGluZVRvKHgsIHkgLSBTVF9SQURfT1VUIC0gSU5JVF9BUlJfUEFEKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIGRyYXcgYSB0cmFuc2l0aW9uIGZyb20gYSBzdGF0ZSB0byBpdHNlbGYuIFxyXG4gKiBAcGFyYW0gY2FudmFzIHRoZSBjYW52YXMgdG8gZHJhdyBvbi5cclxuICogQHBhcmFtIHggdGhlIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBzdGF0ZSdzIGNpcmNsZS5cclxuICogQHBhcmFtIHkgdGhlIHkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBzdGF0ZSdzIGNpcmNsZS4gXHJcbiAqIEBwYXJhbSBjaGFyIHRoZSBjaGFyIChvciBjaGFyYWN0ZXJzKSB0aGF0IGRlZmluZSB0aGlzIHRyYW5zaXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBkcmF3U2VsZlRyYW5zaXRpb24oY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgeDogbnVtYmVyLCB5OiBudW1iZXIsIGNoYXI6IHN0cmluZyk6IHZvaWQge1xyXG4gICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICBpZiAoY3R4ID09PSBudWxsKXtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZ2V0IGNvbnRleHRcIik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGNlbnRlclggPSBjYW52YXMud2lkdGggLyAyLCBjZW50ZXJZID0gY2FudmFzLmhlaWdodCAvIDI7XHJcbiAgICBjb25zdCBhbmdsZSA9IE1hdGguYXRhbjIoeSAtIGNlbnRlclksIHggLSBjZW50ZXJYKTtcclxuXHJcbiAgICBjb25zdCBsb29wQ2VudGVyWSA9IHkgKyAoVFJfU0VMRl9SQUQgKyBTVF9SQURfT1VUKSAqIE1hdGguc2luKGFuZ2xlKTtcclxuICAgIGNvbnN0IGxvb3BDZW50ZXJYID0geCArIChUUl9TRUxGX1JBRCArIFNUX1JBRF9PVVQpICogTWF0aC5jb3MoYW5nbGUpO1xyXG5cclxuICAgIGNvbnN0IHN0YXJ0QW5nbGUgPSAzIC8gNCAqIE1hdGguUEk7XHJcbiAgICBjb25zdCBlbmRBbmdsZSA9IDEgLyA0ICogTWF0aC5QSTtcclxuXHJcbiAgICAvLyBkcmF3IHRoZSBhcmNcclxuXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHguYXJjKGxvb3BDZW50ZXJYLCBsb29wQ2VudGVyWSwgVFJfU0VMRl9SQUQsXHJcbiAgICAgICAgTWF0aC5QSSAvIDIgKyBhbmdsZSArIHN0YXJ0QW5nbGUsXHJcbiAgICAgICAgTWF0aC5QSSAvIDIgKyBhbmdsZSArIGVuZEFuZ2xlKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyBhcnJvdyBlbmRwb2ludFxyXG4gICAgY29uc3QgYXJyb3dYID0gbG9vcENlbnRlclggKyBUUl9TRUxGX1JBRCAqIE1hdGguY29zKE1hdGguUEkgLyAyICsgYW5nbGUgKyBlbmRBbmdsZSk7XHJcbiAgICBjb25zdCBhcnJvd1kgPSBsb29wQ2VudGVyWSArIFRSX1NFTEZfUkFEICogTWF0aC5zaW4oTWF0aC5QSSAvIDIgKyBhbmdsZSArIGVuZEFuZ2xlKTtcclxuXHJcbiAgICAvLyBhcnJvd2hlYWRcclxuICAgIGNvbnN0IGFycm93QW5nbGUgPSAoTWF0aC5QSSAvIDIgKyBhbmdsZSArIGVuZEFuZ2xlKSArIE1hdGguUEkgLyAyO1xyXG5cclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oYXJyb3dYLCBhcnJvd1kpO1xyXG4gICAgY3R4LmxpbmVUbyhcclxuICAgICAgICBhcnJvd1ggLSBUUl9BUlJfSEVBRCAqIE1hdGguY29zKGFycm93QW5nbGUgLSBNYXRoLlBJIC8gNiksXHJcbiAgICAgICAgYXJyb3dZIC0gVFJfQVJSX0hFQUQgKiBNYXRoLnNpbihhcnJvd0FuZ2xlIC0gTWF0aC5QSSAvIDYpXHJcbiAgICApO1xyXG4gICAgY3R4Lm1vdmVUbyhhcnJvd1gsIGFycm93WSk7XHJcbiAgICBjdHgubGluZVRvKFxyXG4gICAgICAgIGFycm93WCAtIFRSX0FSUl9IRUFEICogTWF0aC5jb3MoYXJyb3dBbmdsZSArIE1hdGguUEkgLyA2KSxcclxuICAgICAgICBhcnJvd1kgLSBUUl9BUlJfSEVBRCAqIE1hdGguc2luKGFycm93QW5nbGUgKyBNYXRoLlBJIC8gNilcclxuICAgICk7XHJcbiAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgLy8gd3JpdGUgdGhlIGxldHRlclxyXG5cclxuICAgIGNvbnN0IGNvbnRyb2xYID0geCArICgyICogVFJfU0VMRl9SQUQgKyBTVF9SQURfT1VUICsgVFJfUEFEKSAqIE1hdGguY29zKGFuZ2xlKTtcclxuICAgIGNvbnN0IGNvbnRyb2xZID0geSArICgyICogVFJfU0VMRl9SQUQgKyBTVF9SQURfT1VUICsgVFJfUEFEKSAqIE1hdGguc2luKGFuZ2xlKTtcclxuXHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LnRyYW5zbGF0ZShjb250cm9sWCwgY29udHJvbFkpO1xyXG5cclxuICAgIGlmIChhbmdsZSA+IE1hdGguUEkgLyAyIHx8IGFuZ2xlIDwgLU1hdGguUEkgLyAyKVxyXG4gICAgICAgIC8vIHRoZSB0ZXh0IGlzIFwidG9vIHVwc2lkZSBkb3duXCJcclxuICAgICAgICBjdHgucm90YXRlKGFuZ2xlICsgTWF0aC5QSSk7XHJcbiAgICBlbHNlXHJcbiAgICAgICAgY3R4LnJvdGF0ZShhbmdsZSk7XHJcblxyXG4gICAgY3R4LmZvbnQgPSBUUl9GT05UO1xyXG4gICAgY3R4LmZpbGxUZXh0KGNoYXIgPT09ICcnID8gRVBTSUxPTiA6IGNoYXIsIDAsIDApOyBcclxuXHJcbiAgICBjdHgucmVzdG9yZSgpOyBcclxufVxyXG5cclxuLyoqXHJcbiAqIGRyYXcgYSB0cmFuc2l0aW9uIChhcnJvdykgaW4gdGhlIGF1dG9tYXRvbiBkaWFncmFtLlxyXG4gKiBAcGFyYW0gY3R4IGNhbnZhcycgY29udGV4dC5cclxuICogQHBhcmFtIHgxIHNvdXJjZSBzdGF0ZSdzIGNpcmNsZSB4IGNvb3JkaW5hdGUuXHJcbiAqIEBwYXJhbSB5MSBzb3VyY2Ugc3RhdGUncyBjaXJjbGUgeSBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0geDIgZGVzdGluYXRpb24gc3RhdGUncyBjaXJjbGUgeCBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0geTIgZGVzdGluYXRpb24gc3RhdGUncyBjaXJjbGUgeSBjb29yZGluYXRlLlxyXG4gKiBAcGFyYW0gY2hhciB0aGUgY2hhcihzKSBjb3JyZXNwb25kaW5nIHRvIHRoZSB0cmFuc2l0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZHJhd1RyYW5zaXRpb24oY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgeDE6IG51bWJlciwgeTE6IG51bWJlciwgeDI6IG51bWJlciwgeTI6IG51bWJlciwgY2hhcjogc3RyaW5nKTogdm9pZCB7XHJcbiAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG5cclxuICAgIGlmIChjdHggPT09IG51bGwpe1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbm5vdCBnZXQgY29udGV4dFwiKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gc2VsZiBsb29wXHJcblxyXG4gICAgaWYgKHgxID09PSB4MiAmJiB5MSA9PT0geTIpIHtcclxuICAgICAgICBkcmF3U2VsZlRyYW5zaXRpb24oY2FudmFzLCB4MSwgeTEsIGNoYXIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0d28gZGlmZmVyZW50IHN0YXRlc1xyXG5cclxuICAgIGNvbnN0IGFuZ2xlID0gTWF0aC5hdGFuMih5MiAtIHkxLCB4MiAtIHgxKTtcclxuICAgIGNvbnN0IHN0YXJ0WCA9IHgxICsgU1RfUkFEX09VVCAqIE1hdGguY29zKGFuZ2xlKSwgZW5kWCA9IHgyIC0gU1RfUkFEX09VVCAqIE1hdGguY29zKGFuZ2xlKTtcclxuICAgIGNvbnN0IHN0YXJ0WSA9IHkxICsgU1RfUkFEX09VVCAqIE1hdGguc2luKGFuZ2xlKSwgZW5kWSA9IHkyIC0gU1RfUkFEX09VVCAqIE1hdGguc2luKGFuZ2xlKTtcclxuXHJcbiAgICBjb25zdCBtaWRYID0gKHN0YXJ0WCArIGVuZFgpIC8gMiwgbWlkWSA9IChzdGFydFkgKyBlbmRZKSAvIDI7XHJcbiAgICBjb25zdCBkeCA9IGVuZFggLSBzdGFydFgsIGR5ID0gZW5kWSAtIHN0YXJ0WTtcclxuICAgIGNvbnN0IHBlcnBYID0gLWR5LCBwZXJwWSA9IGR4O1xyXG4gICAgXHJcbiAgICAvLyBub3JtYWxpemUgdGhlIHBlcnBlbmRpY3VsYXIgdmVjdG9yXHJcbiAgICBjb25zdCBsZW5ndGggPSBNYXRoLnNxcnQocGVycFggKiBwZXJwWCArIHBlcnBZICogcGVycFkpO1xyXG4gICAgY29uc3QgdW5pdFBlcnBYID0gcGVycFggLyBsZW5ndGg7XHJcbiAgICBjb25zdCB1bml0UGVycFkgPSBwZXJwWSAvIGxlbmd0aDtcclxuXHJcbiAgICAvLyBjb250cm9sIHBvaW50IGZvciB0aGUgcXVhZHJhdGljIGN1cnZlXHJcbiAgICBjb25zdCBjb250cm9sWCA9IG1pZFggKyB1bml0UGVycFggKiBUUl9FTFY7XHJcbiAgICBjb25zdCBjb250cm9sWSA9IG1pZFkgKyB1bml0UGVycFkgKiBUUl9FTFY7XHJcblxyXG4gICAgLy8gZHJhdyB0aGUgYXJjXHJcbiAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICBjdHgubW92ZVRvKHN0YXJ0WCwgc3RhcnRZKTtcclxuICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbnRyb2xYLCBjb250cm9sWSwgZW5kWCwgZW5kWSk7XHJcbiAgICBjdHguc3Ryb2tlKCk7IFxyXG5cclxuICAgIC8vIGRyYXcgdGhlIGhlYWRcclxuICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgIGN0eC5tb3ZlVG8oZW5kWCwgZW5kWSk7XHJcbiAgICBjdHgubGluZVRvKGVuZFggLSBUUl9BUlJfSEVBRCAqIE1hdGguY29zKGFuZ2xlIC0gTWF0aC5QSSAvIDYpLFxyXG4gICAgICAgIGVuZFkgLSBUUl9BUlJfSEVBRCAqIE1hdGguc2luKGFuZ2xlIC0gTWF0aC5QSSAvIDYpKTtcclxuICAgIGN0eC5tb3ZlVG8oZW5kWCwgZW5kWSk7XHJcbiAgICBjdHgubGluZVRvKGVuZFggLSBUUl9BUlJfSEVBRCAqIE1hdGguY29zKGFuZ2xlICsgTWF0aC5QSSAvIDYpLFxyXG4gICAgICAgIGVuZFkgLSBUUl9BUlJfSEVBRCAqIE1hdGguc2luKGFuZ2xlICsgTWF0aC5QSSAvIDYpKTtcclxuICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAvLyB3cml0ZSB0aGUgbGV0dGVyXHJcblxyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC50cmFuc2xhdGUoY29udHJvbFgsIGNvbnRyb2xZKTtcclxuXHJcbiAgICBpZiAoYW5nbGUgPiBNYXRoLlBJIC8gMiB8fCBhbmdsZSA8IC1NYXRoLlBJIC8gMilcclxuICAgICAgICAvLyB0aGUgdGV4dCBpcyBcInRvbyB1cHNpZGUgZG93blwiXHJcbiAgICAgICAgY3R4LnJvdGF0ZShhbmdsZSArIE1hdGguUEkpO1xyXG4gICAgZWxzZVxyXG4gICAgICAgIGN0eC5yb3RhdGUoYW5nbGUpO1xyXG5cclxuICAgIGN0eC5mb250ID0gVFJfRk9OVDtcclxuXHJcbiAgICBpZiAoZW5kWCA+IHN0YXJ0WClcclxuICAgICAgICBjdHguZmlsbFRleHQoKGNoYXIgPT09ICcnID8gRVBTSUxPTiA6IGNoYXIpICsgUklHSFRfQVJST1csIDAsIDApOyBcclxuICAgIGVsc2UgaWYgKGVuZFggPCBzdGFydFgpXHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KExFRlRfQVJST1cgKyAoY2hhciA9PT0gJycgPyBFUFNJTE9OIDogY2hhciksIDAsIDApOyBcclxuICAgIGVsc2UgaWYgKGVuZFkgPiBzdGFydFkpIFxyXG4gICAgICAgIC8vIHNhbWUgeCBidXQgdGhlIGFycm93IGlzIGF0IHRoZSBib3R0b20gZW5kIG9mIHRoZSB0cmFuc2l0aW9uIGFycm93XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KChjaGFyID09PSAnJyA/IEVQU0lMT04gOiBjaGFyKSArIFJJR0hUX0FSUk9XLCAwLCAwKTsgXHJcbiAgICBlbHNlIFxyXG4gICAgICAgIGN0eC5maWxsVGV4dChMRUZUX0FSUk9XICsgKGNoYXIgPT09ICcnID8gRVBTSUxPTiA6IGNoYXIpLCAwLCAwKTsgXHJcblxyXG4gICAgY3R4LnJlc3RvcmUoKTsgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBjYWxjdWxhdGUgdGhlIHBvc2l0aW9uIG9mIGVhY2ggc3RhdGUncyBjaXJjbGUgaW4gdGhlIGNhbnZhcy5cclxuICogQHBhcmFtIGNhbnZhcyB0aGUgY2FudmFzLlxyXG4gKiBAcGFyYW0gYXV0b21hdG9uIHRoZSBhdXRvbWF0b24uXHJcbiAqIEByZXR1cm5zIGEgbWFwcGluZyBvZiBzdGF0ZXMgYW5kIHBvc2l0aW9ucyAoc3RhdGUsIHt4LCB5fSkuXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVQb3NpdGlvbnMoY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgYXV0b21hdG9uOiBORkEpIDogTWFwPHN0cmluZywge3g6IG51bWJlciwgeTogbnVtYmVyfT57XHJcbiAgICBjb25zdCBjZW50ZXJYID0gY2FudmFzLndpZHRoIC8gMiwgY2VudGVyWSA9IGNhbnZhcy5oZWlnaHQgLyAyO1xyXG4gICAgY29uc3Qgcm90YXRpb25QZXJTdGF0ZSA9ICgyICogTWF0aC5QSSkgLyBhdXRvbWF0b24uc3RhdGVzLnNpemU7XHJcbiAgICBjb25zdCBtYXJnaW4gPSBTVF9SQURfT1VUICsgVFJfUEFEICsgMiAqIFRSX1NFTEZfUkFEICsgMzA7XHJcbiAgICBjb25zdCByYWRpdXMgPSBNYXRoLm1pbihjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpIC8gMiAtIG1hcmdpbjtcclxuXHJcbiAgICBjb25zdCBtYXAgPSBuZXcgTWFwPHN0cmluZywge3g6IG51bWJlciwgeTogbnVtYmVyfT4oKTtcclxuXHJcbiAgICBbLi4uYXV0b21hdG9uLnN0YXRlc10uZm9yRWFjaCgoc3RhdGUsIGluZGV4KSA9PiBcclxuICAgICAgICBtYXAuc2V0KHN0YXRlLCB7IFxyXG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgcmFkaXVzICogTWF0aC5jb3MoaW5kZXggKiByb3RhdGlvblBlclN0YXRlKSwgXHJcbiAgICAgICAgICAgIHk6IGNlbnRlclkgKyByYWRpdXMgKiBNYXRoLnNpbihpbmRleCAqIHJvdGF0aW9uUGVyU3RhdGUpXHJcbiAgICAgICAgfSkpO1xyXG5cclxuICAgIHJldHVybiBtYXA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBkcmF3IGFuIGVudGlyZSBhdXRvbWF0b24gZGlhZ3JhbS5cclxuICogQHBhcmFtIGNhbnZhcyBhIGNhbnZhcyB0byBkcmF3IG9uLlxyXG4gKiBAcGFyYW0gYXV0b21hdG9uIGFuIGF1dG9tYXRvbiB0byBkcmF3LlxyXG4gKiBAcmV0dXJucyB0aGUgcG9zaXRpb25zIG9mIHRoZSBzdGF0ZXMuXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZHJhd0F1dG9tYXRvbihjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBhdXRvbWF0b246IE5GQSk6IE1hcDxzdHJpbmcsIHt4OiBudW1iZXIsIHk6IG51bWJlcn0+IHtcclxuICAgIGNvbnN0IHBvc2l0aW9ucyA9IGNhbGN1bGF0ZVBvc2l0aW9ucyhjYW52YXMsIGF1dG9tYXRvbik7XHJcblxyXG4gICAgY29uc3Qgc2FtZUVuZHMgPSAoZjogc3RyaW5nW10sIHM6IHN0cmluZ1tdKTogYm9vbGVhbiA9PiBmWzBdID09PSBzWzBdICYmIGZbMl0gPT09IHNbMl07XHJcblxyXG4gICAgZm9yIChjb25zdCBbc3RhdGUsIHBvc2l0aW9uXSBvZiBwb3NpdGlvbnMpe1xyXG4gICAgICAgIGRyYXdTdGF0ZShjYW52YXMsIFwiYmxhY2tcIiwgcG9zaXRpb24ueCwgcG9zaXRpb24ueSwgc3RhdGUsIGF1dG9tYXRvbik7XHJcbiAgICB9IFxyXG5cclxuICAgIGZvciAoY29uc3QgW3NyYywgdHJhbnNpdGlvbnNdIG9mIGF1dG9tYXRvbi50cmFuc2l0aW9ucyl7XHJcbiAgICAgICAgY29uc3QgZnJvbVNyYyA9IG5ldyBNYXA8c3RyaW5nLCBTZXQ8c3RyaW5nPj4oKTtcclxuXHJcbiAgICAgICAgLy8gYWRkIGNoYXIgdG8gZGVzdFxyXG4gICAgICAgIGZvciAodmFyIFtjaGFyLCBkZXN0c10gb2YgdHJhbnNpdGlvbnMpe1xyXG4gICAgICAgICAgICBjaGFyID0gY2hhciA9PT0gJycgPyBFUFNJTE9OIDogY2hhcjtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZGVzdCBvZiBkZXN0cyl7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZXN0RW50cnkgPSBmcm9tU3JjLmdldChkZXN0KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGVzdEVudHJ5KXtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0RW50cnkuYWRkKGNoYXIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmcm9tU3JjLnNldChkZXN0LCBuZXcgU2V0KFtjaGFyXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkcmF3IGFsbCB0aGUgYXJyb3dzIGZyb20gdGhlIGN1cnJlbnQgc291cmNlXHJcblxyXG4gICAgICAgIGNvbnN0IHNyY1BvcyA9IHBvc2l0aW9ucy5nZXQoc3JjKTtcclxuXHJcbiAgICAgICAgaWYgKHNyY1BvcyA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBzb3VyY2UncyBwb3NpdGlvblwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHt4OiB4MSwgeTogeTF9ID0gc3JjUG9zO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IFtkZXN0LCBjaGFyc10gb2YgZnJvbVNyYyl7XHJcbiAgICAgICAgICAgIGNvbnN0IGRlc3RQb3MgPSBwb3NpdGlvbnMuZ2V0KGRlc3QpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlc3RQb3MgPT09IHVuZGVmaW5lZCl7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGRlc3RpbmF0aW9ucydzIHBvc2l0aW9uXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB7eDogeDIsIHk6IHkyfSA9IGRlc3RQb3M7XHJcblxyXG4gICAgICAgICAgICBkcmF3VHJhbnNpdGlvbihjYW52YXMsIHgxLCB5MSwgeDIsIHkyLCBbLi4uY2hhcnNdLmpvaW4oXCIsIFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBwb3NpdGlvbnM7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///669\n')},596:(__unused_webpack_module,exports,__webpack_require__)=>{eval('\nObject.defineProperty(exports, "__esModule", ({ value: true }));\nexports.generateAutomaton = generateAutomaton;\nexports.generateWord = generateWord;\nexports.valueToCleanArray = valueToCleanArray;\nconst automaton_1 = __webpack_require__(719);\nconst util_1 = __webpack_require__(229);\nfunction generateAutomaton(deterministic) {\n    const letterPool = "abcdefghijklmnopqrstuvwxyz";\n    const alphabet = (0, util_1.randomElements)(letterPool, (0, util_1.randomInteger)(1, letterPool.length));\n    const states = Array.from({ length: (0, util_1.randomInteger)(1, 8) }, (_, k) => "q" + k);\n    const acceptingStates = (0, util_1.randomElements)(states, (0, util_1.randomInteger)(0, states.length));\n    const initialState = (0, util_1.randomElements)(states, 1)[0];\n    const transitions = Array.from({ length: (0, util_1.randomInteger)(0, states.length * states.length / 2) }, (_) => [\n        (0, util_1.randomElements)(states, 1)[0], (0, util_1.randomElements)(alphabet.concat([\'\']), 1)[0], (0, util_1.randomElements)(states, 1)[0]\n    ]);\n    if (deterministic) {\n        const noEpsilonTransitions = transitions.filter(transition => transition[1] !== \'\');\n        const noDuplicates = noEpsilonTransitions.filter((transition, index) => noEpsilonTransitions.findIndex(other => transition[0] === other[0] && transition[1] === other[1]) === index);\n        return automaton_1.DFA.create(alphabet, states, acceptingStates, initialState, noDuplicates);\n    }\n    return automaton_1.NFA.create(alphabet, states, acceptingStates, initialState, transitions);\n}\nfunction generateWord(alphabet) {\n    return Array.from({ length: (0, util_1.randomInteger)(0, 10) }, () => (0, util_1.randomElements)(alphabet, 1)).join(\'\');\n}\nfunction valueToCleanArray(value, separator) {\n    const clear = value.replace(/\\s+/g, "");\n    return clear.length === 0 ? [] : clear.split(separator);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRSxFQUFFLENBQUMsQ0FBQztJQUV4QyxPQUFPLEtBQUssQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDNUQsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2F1dG9tYXRhLy4vc3JjL3dlYi9hdXRvbWF0YS11dGlsLnRzPzgxMmQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTkZBLCBERkEgfSBmcm9tIFwiLi4vYXV0b21hdG9uL2F1dG9tYXRvblwiXHJcbmltcG9ydCB7IHJhbmRvbUludGVnZXIsIHJhbmRvbUVsZW1lbnRzIH0gZnJvbSBcIi4uL2F1dG9tYXRvbi91dGlsXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVBdXRvbWF0b24oZGV0ZXJtaW5pc3RpYzogYm9vbGVhbikgOiBORkF7XHJcbiAgICBjb25zdCBsZXR0ZXJQb29sID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiO1xyXG5cclxuICAgIGNvbnN0IGFscGhhYmV0OiBzdHJpbmdbXSA9IHJhbmRvbUVsZW1lbnRzKGxldHRlclBvb2wsIHJhbmRvbUludGVnZXIoMSwgbGV0dGVyUG9vbC5sZW5ndGgpKTtcclxuXHJcbiAgICBjb25zdCBzdGF0ZXM6IHN0cmluZ1tdID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcmFuZG9tSW50ZWdlcigxLCA4KSB9LCAoXywgaykgPT4gXCJxXCIgKyBrKTtcclxuXHJcbiAgICBjb25zdCBhY2NlcHRpbmdTdGF0ZXM6IHN0cmluZ1tdID0gcmFuZG9tRWxlbWVudHMoc3RhdGVzLCByYW5kb21JbnRlZ2VyKDAsIHN0YXRlcy5sZW5ndGgpKTtcclxuXHJcbiAgICBjb25zdCBpbml0aWFsU3RhdGU6IHN0cmluZyA9IHJhbmRvbUVsZW1lbnRzKHN0YXRlcywgMSlbMF07XHJcblxyXG4gICAgY29uc3QgdHJhbnNpdGlvbnM6IHN0cmluZ1tdW10gPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByYW5kb21JbnRlZ2VyKDAsIHN0YXRlcy5sZW5ndGggKiBzdGF0ZXMubGVuZ3RoIC8gMikgfSwgKF8pID0+IFtcclxuICAgICAgICByYW5kb21FbGVtZW50cyhzdGF0ZXMsIDEpWzBdLCByYW5kb21FbGVtZW50cyhhbHBoYWJldC5jb25jYXQoWycnXSksIDEpWzBdLCByYW5kb21FbGVtZW50cyhzdGF0ZXMsIDEpWzBdXHJcbiAgICBdKTtcclxuXHJcbiAgICBpZiAoZGV0ZXJtaW5pc3RpYyl7XHJcbiAgICAgICAgY29uc3Qgbm9FcHNpbG9uVHJhbnNpdGlvbnMgPSB0cmFuc2l0aW9ucy5maWx0ZXIodHJhbnNpdGlvbiA9PiB0cmFuc2l0aW9uWzFdICE9PSAnJyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vRHVwbGljYXRlcyA9IG5vRXBzaWxvblRyYW5zaXRpb25zLmZpbHRlcigodHJhbnNpdGlvbiwgaW5kZXgpID0+IFxyXG4gICAgICAgICAgICBub0Vwc2lsb25UcmFuc2l0aW9ucy5maW5kSW5kZXgob3RoZXIgPT4gdHJhbnNpdGlvblswXSA9PT0gb3RoZXJbMF0gJiYgdHJhbnNpdGlvblsxXSA9PT0gb3RoZXJbMV0pID09PSBpbmRleFxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBERkEuY3JlYXRlKGFscGhhYmV0LCBzdGF0ZXMsIGFjY2VwdGluZ1N0YXRlcywgaW5pdGlhbFN0YXRlLCBub0R1cGxpY2F0ZXMpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBORkEuY3JlYXRlKGFscGhhYmV0LCBzdGF0ZXMsIGFjY2VwdGluZ1N0YXRlcywgaW5pdGlhbFN0YXRlLCB0cmFuc2l0aW9ucyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVdvcmQoYWxwaGFiZXQ6IHN0cmluZ1tdKSA6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogcmFuZG9tSW50ZWdlcigwLCAxMCkgfSwgKCkgPT4gcmFuZG9tRWxlbWVudHMoYWxwaGFiZXQsIDEpKS5qb2luKCcnKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlVG9DbGVhbkFycmF5KHZhbHVlOiBzdHJpbmcsIHNlcGFyYXRvcjogc3RyaW5nKSA6IHN0cmluZ1tde1xyXG4gICAgY29uc3QgY2xlYXIgPSB2YWx1ZS5yZXBsYWNlKC9cXHMrL2csIFwiXCIpO1xyXG5cclxuICAgIHJldHVybiBjbGVhci5sZW5ndGggPT09IDAgPyBbXSA6IGNsZWFyLnNwbGl0KHNlcGFyYXRvcik7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///596\n')}},__webpack_module_cache__={};function __webpack_require__(Q){var F=__webpack_module_cache__[Q];if(void 0!==F)return F.exports;var U=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(U.exports,U,U.exports,__webpack_require__),U.exports}var __webpack_exports__=__webpack_require__(156)})();